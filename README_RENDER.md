# Deploy to Render

## Quick deploy
1. Create a new **Web Service** on Render.
2. Point it to this repository or upload this folder.
3. Use the following commands:
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `gunicorn wsgi:app`
4. Set environment variables as needed:
   - `SECRET_KEY` (auto-generated by render.yaml if used)
   - `BLOCK_VPN` (use "true" to block detected VPNs)
   - `VPN_ALLOWLIST` (comma-separated IPs/CIDR)
   - `DATABASE_URL` (optional; add a Render PostgreSQL database for persistence)
   - `VPNAPI_IO_KEY` (optional; if you want online VPN checks)
   - `IPSET_DATA_PATH` (optional; path to uploaded IPSet file)

## Database
- By default, the app uses SQLite at `instance/app.db` (ephemeral on Render).
- For persistence, create a **PostgreSQL** on Render and set `DATABASE_URL`.
- The app automatically rewrites `postgres://` to `postgresql://`.

## URLs
- Dashboard: `/`
- Demo login: `/login`
- Simulate threats: `/admin/trigger`
- Health: `/api/health`